<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Visualizador DPV</title>


<script src="https://unpkg.com/mapillary-js@4.1.2/dist/mapillary.js"></script>
<link href="https://unpkg.com/mapillary-js@4.1.2/dist/mapillary.css" rel="stylesheet"/>


       <style>
            body {
                margin: 0;
                padding: 0;
            }

            html,
            body,
            .viewer {
                width: 100%;
                height: 100%;
            }
       </style>
  
</head>

<body>


<div id="mly" style="width: 900px; height: 500px;"></div>




<script>
  
  /*var {Viewer} = mapillary;
  var viewer = new Viewer({
    accessToken: 'MLY|23983930767964164|8c1fc16b90b963e2400cd349bbf7fcbe',
    container: 'mly', 
    imageId: '1376956613823456',
  });*/



  function render(props) {
  let viewer;
  let coverViewer;
  function dispose() {
    if (viewer) {
      viewer.remove();
    }
  }
  function disposeCover() {
    if (coverViewer) {
      coverViewer.remove();
    }
  }

  const accessToken = 'MLY|23983930767964164|8c1fc16b90b963e2400cd349bbf7fcbe';   
  const container = 'mly';        
  const style = {height: '400px', width: '50%', display: 'inline-block'};
  const imageId = '1376956613823456';

  function init(opts) {
    const {accessToken, container} = opts;
    const options = {accessToken, container};
    viewer = new Viewer(options);
    viewer.moveTo(imageId).catch(mapillaryErrorHandler);
  }

  function initCover(opts) {
    const {accessToken, container} = opts;
    const options = {
      accessToken,
      component: {cover: true},
      container,
      imageId,
    };
    coverViewer = new Viewer(options);
  }

  return (
    <div>
      <ViewerComponent init={init} dispose={dispose} style={style} />
      <ViewerComponent init={initCover} dispose={disposeCover} style={style} />
    </div>
  );
}     
  
</script>
       
  
</body>
</html>
